{
    "language": "coffeescript",
    "views": {
        "count": {
            "map": "(doc) ->\n  emit null, 1 if doc.pending\n",
                "reduce": "(keys, values) ->\n  sum values\n"
        },
        "done": {
            "map": "(doc) ->\n  emit doc.dequeued, doc.payload unless doc.pending\n"
        },
        "fifo": {
            "map": "(doc) ->\n  emit doc.enqueued, doc.payload if doc.pending\n"
        }
    },
}
